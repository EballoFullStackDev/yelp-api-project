{"version":3,"sources":["components/Search.js","components/Stores.js","components/Business.js","App.js","index.js"],"names":["Search","props","useState","category","setCategory","location","setLocation","inputCategory","e","a","target","value","id","onSubmit","preventDefault","searchButton","className","InputGroup","Prepend","Text","FormControl","placeholder","aria-label","aria-describedby","onChange","required","type","Stores","to","business","Card","style","width","Img","variant","alt","src","image_url","Body","Title","name","display_address","join","review_count","rating","Business","match","businessInfo","setBusinessInfo","categories","setCategories","loadFlag","setLoadFlag","useEffect","axios","get","params","headers","Authorization","process","then","res","data","catch","err","console","log","height","map","key","title","isClosed","display_phone","price","App","stores","setStores","sort","setSort","limit","response","businesses","fetchData","sortBy","arr","b","alias","term","document","querySelector","scrollTo","table","store","path","component","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.3919fdda.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport { InputGroup, FormControl } from 'react-bootstrap';\n//import { Link } from 'react-router-dom';\n\nconst Search = (props) => {\n\n   const [category, setCategory] = useState('');\n   const [location, setLocation] = useState('');\n\n   const inputLocation = (e) => {\n      setLocation(e.target.value);\n   }\n\n   const inputCategory = async (e) => {\n      setCategory(e.target.value);\n   }\n\n   return (\n      <div>\n      <h1 id='title'>Search for businesses</h1>\n      <form onSubmit={(e)=> {\n         e.preventDefault();\n         props.searchButton(category, location);\n         setLocation(''); \n         setCategory('');\n         }}>\n         <div className=\"form-group\">\n            <InputGroup className=\"mb-3 categoryInput\" >\n               <InputGroup.Prepend>\n                  <InputGroup.Text id=\"categoryInputField\">Find</InputGroup.Text>\n               </InputGroup.Prepend>\n               <FormControl\n                  placeholder=\"Categories\"\n                  aria-label=\"Category\"\n                  aria-describedby=\"Categories\"\n                  value={category}\n                  onChange={inputCategory}\n               />\n            </InputGroup>\n            <InputGroup className=\"mb-3 locationInput\" >\n               <InputGroup.Prepend>\n                  <InputGroup.Text id=\"LocationInputField\">Near</InputGroup.Text>\n               </InputGroup.Prepend>\n               <FormControl\n                  placeholder=\"Location\"\n                  aria-label=\"Location\"\n                  aria-describedby=\"Location\"\n                  value={location}\n                  onChange={inputLocation}\n                  required={true}\n               />\n            </InputGroup>\n            <button type='submit'>Search Business</button>\n         </div>\n      </form>\n      </div>\n   );\n}\n\nexport default Search;","import React from 'react';\nimport Card from 'react-bootstrap/Card';\nimport { Link } from 'react-router-dom';\n\n\nconst Stores = (props) => {\n  return (\n    <Link to={`/business/${props.business.id}`}>\n      <div className=\"storeDiv\">\n        <Card style={{ width: '30rem' }}>\n          <Card.Img variant=\"top\" className=\"cardImage\" alt=\"stores\" src={props.business.image_url} />\n          <Card.Body>\n            <Card.Title>{props.business.name}</Card.Title>\n            <Card.Text>\n              {props.business.location.display_address.join(\". \")}\n            </Card.Text>\n            <small>Review Count: {props.business.review_count}</small>\n            <div></div>\n            <small>Rating: {props.business.rating}</small>\n          </Card.Body>\n        </Card>\n      </div>\n    </Link>\n\n  )\n}\n\nexport default Stores;","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport \"./Business.styles.css\";\n\n\n\nconst Business = ({ match }) => {\n\n  const [businessInfo, setBusinessInfo] = useState({});\n  const [categories, setCategories] = useState([]);\n  const [loadFlag, setLoadFlag] = useState(true);\n\n  useEffect(() => {\n    axios.get(`${'https://cors-anywhere.herokuapp.com/'}https://api.yelp.com/v3/businesses/${match.params.id}`, {\n      headers: {\n        Authorization: `Bearer ${process.env.REACT_APP_API_KEY}`\n      }\n    }).then(res => {\n      setBusinessInfo(res.data);\n      setCategories(res.data.categories);\n      setLoadFlag(false);\n    }).catch((err) => {\n      console.log('error', err)\n    })\n  }, [match.params.id])\n\n\n  return ({ loadFlag } === true ? <div>Loading</div> :\n    <div className='businessParentDiv' >\n      <div>\n        <img className='imgBox' alt={businessInfo.name} height='400px' width='600px' src={`${businessInfo.image_url}`} />\n      </div>\n      <div className='businessInfoDiv'>\n        <h1 className=\"businessInfoName\">{businessInfo.name}</h1>\n        <ul>\n          {\n            categories.map(category => <li key={category.title} >{category.title}</li>)\n          }\n        </ul>\n        <div>Is Open: {businessInfo.isClosed ? \"No\" : \"Yes\"}</div>\n        <div>Phone: {businessInfo.display_phone}</div>\n        <div>Rating: {businessInfo.rating}</div>\n        <div>Price: {businessInfo.price}</div>\n      </div>\n    </div>\n  );\n}\n\nexport default Business;","//Dependencies\nimport React, { useState, useEffect } from 'react';\nimport { Route } from 'react-router-dom';\n\nimport './App.css';\nimport axios from 'axios';\n\nimport Search from './components/Search';\nimport Stores from './components/Stores';\nimport Business from './components/Business';\n\n\nconst App = () => {\n\n  const [stores, setStores] = useState([]);\n  const [sort, setSort] = useState('1');\n\n\n  const searchButton = (category, location) => {\n    axios.get(`${'https://cors-anywhere.herokuapp.com/'}https://api.yelp.com/v3/businesses/search`, {\n      headers: {\n        Authorization: `Bearer ${process.env.REACT_APP_API_KEY}`\n      },\n      params: {\n        location: location,\n        term: category ? category : '',\n        limit: 10\n      }\n    }).then(res => {\n      sortBy(res.data.businesses, sort);\n      document.querySelector('.div2').scrollTo(0, 0);\n    }).catch((err) => {\n      console.log('error', err)\n    })\n  }\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const response = await axios.get(`${'https://cors-anywhere.herokuapp.com/'}https://api.yelp.com/v3/businesses/search`, {\n        headers: {\n          Authorization: `Bearer ${process.env.REACT_APP_API_KEY}`\n        }, params: {\n          location: 'irvine',\n          limit: 10\n        }\n      })\n      setStores(response.data.businesses)\n      //console.log(response.data.businesses)\n    }\n    fetchData();\n  }, []\n  );\n\n\n  const sortBy = (arr, sort) => {\n    if (sort === \"1\") {\n      setStores(arr.sort((a, b) => a.alias > b.alias ? 1 : -1));\n    } else if (sort === \"2\") {\n      setStores(arr.sort((a, b) => b.review_count - a.review_count));\n    } else if (sort === \"3\") {\n      setStores(arr.sort((a, b) => b.rating - a.rating));\n    }\n  }\n\n  const handleChange = (e) => {\n    sortBy(stores, e.target.value);\n    setSort(e.target.value);\n    console.table(stores);\n  }\n\n  return (\n    <div className='App'>\n      <div className='div1'>\n        <Search searchButton={searchButton} />\n        <label id='sortByLabel'>Sort By:</label>\n        <select id=\"sortBy\" value={sort} onChange={handleChange}>\n          <option value=\"1\">Name</option>\n          <option value=\"2\">Reviews</option>\n          <option value=\"3\">Rating</option>\n        </select>\n      </div>\n      <div className='div2'>\n        {\n          stores.map(store => <Stores business={store} key={store.id} />)\n        }\n      </div>\n      <div className='div3'>\n        <Route path=\"/business/:id\" component={Business} />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {BrowserRouter} from 'react-router-dom';\n\nReactDOM.render(\n(\n<BrowserRouter>\n<App />\n</BrowserRouter>\n),\n document.getElementById('root'));\n"],"sourceRoot":""}